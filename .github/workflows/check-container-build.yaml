name: Check Container Build

on:
  push: # TODO: Remove this event before merge
  pull_request:
    branches: [main]

jobs:
  build:
    name: Build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2

      # TODO: Expecting vars to be set for this command
      - run: docker run -v ${PWD}:/project -w /project devspacesh/devspace devspace build --profile production --skip-push
