# Migration `20201117012322-add-user-tag`

This migration has been generated by Ben Walker at 11/16/2020, 8:23:22 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" ADD COLUMN "username" text   NOT NULL ,
ADD COLUMN "discriminator" integer   NOT NULL

CREATE UNIQUE INDEX "UserTag" ON "public"."User"("username", "discriminator")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200926151442-add-user-password..20201117012322-add-user-tag
--- datamodel.dml
+++ datamodel.dml
@@ -1,16 +1,19 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
-  provider      = "prisma-client-js"
-  // Specify targets for native machine and serverless environment
-  binaryTargets = ["native", "rhel-openssl-1.0.x"]
+  provider = "prisma-client-js"
+  output   = "../generated/prisma/client"
 }
 model User {
-  id           String @id @default(cuid())
-  email        String @unique
-  passwordHash String
+  id            String @id @default(cuid())
+  email         String @unique
+  username      String
+  discriminator Int
+  passwordHash  String
+
+  @@unique([username, discriminator], name: "UserTag")
 }
```
